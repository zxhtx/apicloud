<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
  <title>title</title>
  <link rel="stylesheet" type="text/css" href="../css/api.css" />
  <style>
  html ,body{
    background-color: transparent;
    /*border: 1px solid red;*/
  }
  #list>.img{
    /*border:1px solid red;*/
  }
/*#list>#icon{
  margin-bottom:20px;
  border-radius: 50%;
  border-color: black; 
  }  */
  
</style>
</head>

<body>
  <div id="list">
    <img class="img" id="zan" tapmode onclick="xiangji()" src="../image/photo.png" alt="" width="28px" height="28px"> 
  </div>

</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">
 var dialogBox;
 var recordVideo;
  var UIMediaScanner;
 apiready = function() {
  dialogBox = api.require('dialogBox');
  recordVideo = api.require('weChatVideo');
  UIMediaScanner = api.require('UIMediaScanner');


};

function xiangji(){
  api.execScript({
        // name: 'winName',
        frameName: 'caoshi_frame',
        script: 'videopuase();'
      });


  dialogBox.alert({
    texts: {
      title: '拍摄',
      content: '选择拍摄方式',
      leftBtnTitle: '相机',
      rightBtnTitle: '相册'
    },
    styles: {
      bg: '#fff',
      w: 300,
      corner:2,
      title: {
        marginT: 20,
        icon: 'widget://res/gou.png',
        iconSize: 40,
        titleSize: 14,
        titleColor: '#000'
      },
      content: {
        color: '#000',
        size: 14
      },
      left: {
        marginB: 7,
        marginL: 20,
        w: 130,
        h: 35,
        corner: 2,
        bg: '#000000',
        color:'#ffffff',
        size: 12
      },
      right: {
        marginB: 7,
        marginL: 10,
        w: 130,
        h: 35,
        corner: 2,
        bg: '#000000',
        color:'#ffffff',
        size: 12
      }
    }
  }, function(ret) {
    if (ret.eventType == 'left') {
      recordVideo.open({
        maxTime: 60,
        isEditVideo:true
      }, function(data){

      })

      dialogBox.close({
        dialogName: 'alert'
      });
    }else{

   
UIMediaScanner.open({
    type: 'picture',
    column: 4,
    classify: true,
    max: 4,
    sort: {
        key: 'time',
        order: 'desc'
    },
    texts: {
        stateText: '已选择*项',
        cancelText: '取消',
        finishText: '完成'
    },
    styles: {
        bg: '#fff',
        mark: {
            icon: '',
            position: 'bottom_left',
            size: 20
        },
        nav: {
            bg: '#eee',
            stateColor: '#000',
            stateSize: 18,
            cancelBg: 'rgba(0,0,0,0)',
            cancelColor: '#000',
            cancelSize: 18,
            finishBg: 'rgba(0,0,0,0)',
            finishColor: '#000',
            finishSize: 18
        }
    },
    scrollToBottom: {
        intervalTime: 3,
        anim: true
    },
    exchange: true,
    rotation: true
}, function(ret) {
    if (ret) {
        alert(JSON.stringify(ret));
    }
});
      dialogBox.close({
        dialogName: 'alert'
      });
    }
  });


}



</script>

</html>
